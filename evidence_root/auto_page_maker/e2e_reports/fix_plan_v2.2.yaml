app: auto_page_maker
base_url: https://auto-page-maker-jamarrlmayes.replit.app
version: v2.2
owner: Frontend/SEO Engineering Team
target_score: 5
generated_at: "2025-10-29T19:00:00Z"

tasks:
  - id: FP-APM-SEO-HEADERS
    title: Add 3 missing security headers (HSTS, Referrer-Policy, Permissions-Policy)
    priority: P0
    estimate_hours: 1
    
    changes:
      - file: server/index.ts
        code_diff: |
          app.use(helmet({
            strictTransportSecurity: {
              maxAge: 31536000,
              includeSubDomains: true,
              preload: true
            },
            referrerPolicy: { policy: 'no-referrer' },
            permissionsPolicy: {
              features: {
                camera: ["'none'"],
                microphone: ["'none'"],
                geolocation: ["'none'"]
              }
            }
          }));
    
    success_criteria:
      - 6/6 security headers present
      - Score improves to 5/5 (with canary)

  - id: FP-API-CANARY-JSON
    title: Add /canary endpoint
    priority: P0
    estimate_hours: 0.5
    
    changes:
      - file: server/index.ts
        code_diff: |
          app.get('/canary', (req, res) => {
            res.json({
              ok: true,
              service: 'auto_page_maker',
              base_url: process.env.REPL_SLUG 
                ? `https://${process.env.REPL_SLUG}.${process.env.REPL_OWNER}.replit.app`
                : 'http://localhost:5000',
              version: 'v2.2',
              timestamp: new Date().toISOString()
            });
          });

  - id: FP-APM-PERF-P95
    title: Optimize P95 to â‰¤160ms
    priority: P1
    estimate_hours: 2-3
    
    notes: |
      - Enable compression (gzip/brotli)
      - Add CDN caching for static assets
      - Optimize images
      - Implement code splitting

total_eta_to_ready: 3-4 hours
total_eta_to_5of5: 3-4 hours
